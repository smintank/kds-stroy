{% load static %}
<div id="overlay" class="overlay"></div>
<div class="order_popup">
    <span class="close">&times;</span>
    <div class="form_content" id="formContent">
        <h3>Заявка на вызов мастера</h3>
        <p>Заполните форму и мы свяжемся с вами в течение 15 минут.</p>
        <form action="" id="orderForm" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {% for field in form %}
                {% if field.name == "photo" %}
                    <input type="file" name="{{ field.name }}" id="fileInput" accept="image/*" multiple hidden>
                {% else %}
                    {{ field }}
                {% endif %}
            {% endfor %}
            <div id="imagePreviewRow" class="image-preview-row">
                <div id="imagePreviews" class="image-previews"></div>
                <label for="fileInput" class="add-image-button" id='addImage'>+</label>
                <label for="fileInput" class="add-image-text" id='addImageText'>Добавьте фото</label>
            </div>
            <div class="personal_info_agree">
                <div class="checkbox">
                    <input type="checkbox" id="checkBox" name="checkbox">
                </div>
                <label for="checkBox" class="checkbox_label">
                    Я соглашаюсь на обработку персональных данных в соответствии с <a href="{% url 'personal_info_terms' %}">политикой конфиденциальности</a>.
                </label>
            </div>
            <button type="submit" class="order_button" id="orderButton" disabled>Оставить заявку</button>
        </form>
    </div>
    <div class="loading_message" id="loadingMessage">
        <h4>Ожидайте...</h4>
    </div>
    <div class="result_message" id="resultMessage">
        <h4>Заявка принята в работу</h4>
        <p>Мы свяжемся с вами в ближайшее время.</p>
    </div>
    <div class="error_message" id="errorMessage">
        <h4>Ошибка!</h4>
        <p>Произошла ошибка, перезагрузите страницу и попробуйте ещё раз</p>
    </div>
</div>
